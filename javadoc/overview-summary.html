<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_102) on Wed Jan 15 20:53:59 CET 2020 -->
<title>Overview (repeg 0.1.0 API)</title>
<meta name="date" content="2020-01-15">
<link rel="stylesheet" type="text/css" href="stylesheet.css" title="Style">
<script type="text/javascript" src="script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="Overview (repeg 0.1.0 API)";
        }
    }
    catch(err) {
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li class="navBarCell1Rev">Overview</li>
<li>Package</li>
<li>Class</li>
<li><a href="overview-tree.html">Tree</a></li>
<li><a href="deprecated-list.html">Deprecated</a></li>
<li><a href="index-all.html">Index</a></li>
<li><a href="help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev</li>
<li>Next</li>
</ul>
<ul class="navList">
<li><a href="index.html?overview-summary.html" target="_top">Frames</a></li>
<li><a href="overview-summary.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<div class="header">
<h1 class="title">repeg 0.1.0 API</h1>
</div>
<div class="header">
<div class="subTitle">
<div class="block">Parser library for creating parsers based on PEG principals.</div>
</div>
<p>See: <a href="#overview.description">Description</a></p>
</div>
<div class="contentContainer">
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Packages table, listing packages, and an explanation">
<caption><span>Packages</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Package</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tbody>
<tr class="altColor">
<td class="colFirst"><a href="net/netnook/repeg/package-summary.html">net.netnook.repeg</a></td>
<td class="colLast">
<div class="block">Top level package for <code>repeg</code> library.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="net/netnook/repeg/chars/package-summary.html">net.netnook.repeg.chars</a></td>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="net/netnook/repeg/exceptions/package-summary.html">net.netnook.repeg.exceptions</a></td>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="net/netnook/repeg/expressions/package-summary.html">net.netnook.repeg.expressions</a></td>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="net/netnook/repeg/expressions/core/package-summary.html">net.netnook.repeg.expressions.core</a></td>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="net/netnook/repeg/expressions/extras/package-summary.html">net.netnook.repeg.expressions.extras</a></td>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="net/netnook/repeg/parsetree/package-summary.html">net.netnook.repeg.parsetree</a></td>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="net/netnook/repeg/util/package-summary.html">net.netnook.repeg.util</a></td>
<td class="colLast">&nbsp;</td>
</tr>
</tbody>
</table>
</div>
<div class="contentContainer"><a name="overview.description">
<!--   -->
</a>
<div class="block">Parser library for creating parsers based on PEG principals.

<p>
        <code>repeg</code> offers the ability to create parsers based on <a href="https://en.wikipedia.org/wiki/Parsing_expression_grammar" target="_blank">Parsing
        Expression Grammar (PEG)</a> principals. The main entry point for uses of this library is the <a href="net/netnook/repeg/ParserFactoryBase.html" title="class in net.netnook.repeg"><code>ParserFactoryBase</code></a> class
        from which parsers can be defined.
</p>
<h2>Example</h2>
<p>
        The following example defines a parser which parses durations based on ISO standards, including a
        date part and time part, such as <code>P1Y2M3DT4H5M6S</code> (1 ywae, 2 months, 3 days, 4 hours, 5 minutes
        and 6 seconds):
<pre>
// Extend ParserFactoryBase  to access utility functions
public class ParserFactory extends <a href="net/netnook/repeg/ParserFactoryBase.html" title="class in net.netnook.repeg"><code>ParserFactoryBase</code></a> {

        // This is the only method which must be implemented and it must return the starting rule.
        &#64;Override
        protected RuleEnum getStartRule() {
                return Rules.START;
        }

        // Create expression as enum implementing the ParsingRuleBuilder utility interface
        public enum Rules implements <a href="net/netnook/repeg/RuleEnum.html" title="interface in net.netnook.repeg"><code>RuleEnum</code></a> {
                START {
                        &#64;Override
                        public ExpressionBuilder expression() {
                                // Expression: 'P' Period_Part Time_Part EndOfInput
                                return sequence(
                                        one('P'),
                                        Period_Part,
                                        Time_Part,
                                        endOfInput()
                                ).onSuccess(context -> {
                                        // On success, retrieve period and duration parts (created by respective expressions),
                                        // build a new IsoDuration result and replace stack content with this result. This
                                        // will form the single result of the parser.
                                        Period period = context.get(0);
                                        Duration duration = context.get(1);
                                        context.replaceWith(IsoDuration.of(period, duration));
                                });
                        }
                },

                Period_Part {
                        &#64;Override
                        public ExpressionBuilder expression() {
                                // Expression: ('Y' Number)? ('M' Number)? ('D' Number)?
                                return sequence(
                                        // Each optional element adds '0' to the stack as a default using
                                        // a success handler created by <a href="net/netnook/repeg/ParserFactoryBase.html#pushIfEmpty-java.lang.Object-"><code>ParserFactoryBase.pushIfEmpty(Object)</code></a>.
                                        optional(sequence(Number, one('Y'))).onSuccess(pushIfEmpty(0)),
                                        optional(sequence(Number, one('M'))).onSuccess(pushIfEmpty(0)),
                                        optional(sequence(Number, one('D'))).onSuccess(pushIfEmpty(0))
                                ).onSuccess((context) -> {
                                        // On success, retrieve individual values, create a Period result and replace stack
                                        // content with this result.
                                        int years = context.get(0);
                                        int months = context.get(1);
                                        int days = context.get(2);
                                        context.replaceWith(Period.of(years, months, days));
                                });
                        }
                },

                Time_Part {
                        &#64;Override
                        public ExpressionBuilder expression() {
                                // Expression: ('T' ('H' Number)? ('M' Number)? ('S' Number)? )?
                                return optional(
                                        sequence(
                                                one('T'),
                                                optional(sequence(Number, one('H'))).onSuccess(pushIfEmpty(0)),
                                                optional(sequence(Number, one('M'))).onSuccess(pushIfEmpty(0)),
                                                optional(sequence(Number, one('S'))).onSuccess(pushIfEmpty(0))
                                        ).onSuccess(context -> {
                                                // On success, retrieve individual values, create a Duration result and replace stack
                                                // content with this result.
                                                int hours = context.get(0);
                                                int minutes = context.get(1);
                                                int seconds = context.get(2);

                                                int totalSeconds = (((hours * 60) + minutes) * 60) + seconds;
                                                context.replaceWith(Duration.ofSeconds(totalSeconds));
                                        })
                                // Push a 0 duration onto stack if there was not time part in the input.
                                ).onSuccess(pushIfEmpty(Duration.ofSeconds(0)));
                        }
                },

                Number {
                        &#64;Override
                        public ExpressionBuilder expression() {
                                // Find sequence of one ore more digits, then on success convert to an integer and push
                                // onto stack using the a success handler created by
                                // <a href="net/netnook/repeg/ParserFactoryBase.html#pushTextAsInteger--"><code>ParserFactoryBase.pushTextAsInteger()</code></a>.
                                return oneOrMore(characterInRange('0', '9')).onSuccess(pushTextAsInteger());
                        }
                };
        }
}
</pre>
</p>
<p>
        More examples can be found in the src test folders in src/test/java/net/netnook/repeg/examples.
</p></div>
</div>
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li class="navBarCell1Rev">Overview</li>
<li>Package</li>
<li>Class</li>
<li><a href="overview-tree.html">Tree</a></li>
<li><a href="deprecated-list.html">Deprecated</a></li>
<li><a href="index-all.html">Index</a></li>
<li><a href="help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev</li>
<li>Next</li>
</ul>
<ul class="navList">
<li><a href="index.html?overview-summary.html" target="_top">Frames</a></li>
<li><a href="overview-summary.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
